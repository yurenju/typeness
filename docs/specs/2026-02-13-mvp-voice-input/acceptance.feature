# language: zh-TW
功能: Typeness MVP 語音輸入核心驗證
  作為 使用者
  我想要 在終端機中透過語音輸入產生經過整理的書面文字
  以便 驗證語音辨識、贅字清理和自動格式化的可行性

  背景:
    假設 已安裝 Python 3.12 和 NVIDIA GPU 驅動
    並且 已透過 uv 安裝所有依賴
    並且 Whisper 和 LLM 模型已下載完成

  場景: 程式正常啟動並提示使用者操作
    當 執行 "uv run python typeness.py"
    那麼 終端機應顯示提示訊息，告知使用者如何操作
    並且 程式等待使用者按下 Enter 鍵

  場景: 基本語音辨識流程
    假設 程式已啟動並處於等待狀態
    當 按下 Enter 鍵開始錄音
    那麼 終端機應顯示「錄音中」的提示
    當 對麥克風說一段 5-10 秒的繁體中文
    並且 再按一次 Enter 鍵結束錄音
    那麼 終端機應顯示 Whisper 原始辨識結果
    並且 辨識結果為可讀的中文文字
    並且 從停止錄音到顯示結果應在 3 秒內完成

  場景: 贅字自動清理
    假設 程式已啟動並處於等待狀態
    當 按下 Enter 鍵開始錄音
    並且 故意說出含贅字的句子，例如「嗯...那個...就是說...我今天去超市買了一些東西」
    並且 再按一次 Enter 鍵結束錄音
    那麼 LLM 處理後的結果中不應包含「嗯」、「那個」、「就是說」等贅字
    並且 處理後的結果應保持「我今天去超市買了一些東西」的原始語意

  場景: 自動格式化為編號列表
    假設 程式已啟動並處於等待狀態
    當 按下 Enter 鍵開始錄音
    並且 口述列舉內容，例如「第一個是蘋果，第二個是香蕉，第三個是橘子」
    並且 再按一次 Enter 鍵結束錄音
    那麼 LLM 處理後的結果應包含編號列表格式
    並且 每個項目獨立成行

  場景: 自動段落分隔
    假設 程式已啟動並處於等待狀態
    當 按下 Enter 鍵開始錄音
    並且 在錄音中談論兩個以上不同主題
    並且 再按一次 Enter 鍵結束錄音
    那麼 LLM 處理後的結果應在主題轉換處有段落分隔
    並且 不同主題的內容不應擠在同一段落中

  場景: 語意保持不變
    假設 程式已啟動並處於等待狀態
    當 按下 Enter 鍵開始錄音
    並且 說出一段有明確意思的繁體中文
    並且 再按一次 Enter 鍵結束錄音
    那麼 LLM 處理後的結果不應添加原文沒有的內容
    並且 不應改變說話者的用詞和表達方式

  場景: 處理時間統計顯示
    假設 程式已啟動並處於等待狀態
    當 完成一次錄音和處理流程
    那麼 終端機應顯示錄音時長
    並且 終端機應顯示 Whisper 辨識耗時
    並且 終端機應顯示 LLM 處理耗時
    並且 終端機應顯示總延遲時間

  場景: 連續錄音能力
    假設 已完成一次錄音和處理流程
    當 程式顯示處理結果後
    那麼 程式應回到等待狀態
    並且 使用者可以按 Enter 開始下一次錄音
    當 再次按 Enter 開始錄音、說話、按 Enter 結束
    那麼 應正常顯示第二次的辨識和處理結果

  場景: 優雅退出
    假設 程式已啟動
    當 使用者按下 Ctrl+C
    那麼 程式應正常結束，不顯示未處理的例外錯誤
